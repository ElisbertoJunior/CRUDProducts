2024-08-12 10:02:39.990 -03:00 [INF] ****************************************
2024-08-12 10:02:40.019 -03:00 [INF] *    Aplica��o iniciada com sucesso!   *
2024-08-12 10:02:40.019 -03:00 [INF] ****************************************
2024-08-12 10:02:42.154 -03:00 [ERR] Ocorreu um erro ao inicializar o banco de dados.
MySql.Data.MySqlClient.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
 ---> System.Net.Sockets.SocketException (10061): Nenhuma conexão pôde ser feita porque a máquina de destino as recusou ativamente.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Net.Sockets.TcpClient.CompleteConnectAsync(Task task)
   at MySql.Data.MySqlClient.NativeDriver.<>c.<OpenAsync>b__38_0(Exception ex)
   at System.AggregateException.Handle(Func`2 predicate)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.TryToGetDriverAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlConnection.Open()
   at ProductAPI.Database.DatabaseInitializer.Initialize() in C:\Users\User\OneDrive\Desktop\CRUD Produtos\API\ProductAPI\Database\DatabaseInitializer.cs:line 24
2024-08-12 10:02:42.269 -03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-12 10:02:42.386 -03:00 [INF] Now listening on: http://localhost:5167
2024-08-12 10:02:42.387 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-12 10:02:42.387 -03:00 [INF] Hosting environment: Development
2024-08-12 10:02:42.388 -03:00 [INF] Content root path: C:\Users\User\OneDrive\Desktop\CRUD Produtos\API\ProductAPI
2024-08-12 10:03:10.705 -03:00 [INF] Application is shutting down...
2024-08-12 10:03:13.732 -03:00 [INF] ****************************************
2024-08-12 10:03:13.759 -03:00 [INF] *    Aplica��o iniciada com sucesso!   *
2024-08-12 10:03:13.760 -03:00 [INF] ****************************************
2024-08-12 10:03:13.928 -03:00 [INF] Banco de dados e tabelas criadas com sucesso.
2024-08-12 10:03:13.970 -03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-12 10:03:13.999 -03:00 [INF] Now listening on: http://localhost:5167
2024-08-12 10:03:14.000 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-12 10:03:14.000 -03:00 [INF] Hosting environment: Development
2024-08-12 10:03:14.001 -03:00 [INF] Content root path: C:\Users\User\OneDrive\Desktop\CRUD Produtos\API\ProductAPI
2024-08-12 10:03:40.387 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/swagger/index.html - null null
2024-08-12 10:03:40.408 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:03:40.493 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/swagger/index.html - 200 null text/html;charset=utf-8 107.951ms
2024-08-12 10:03:40.617 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/swagger/v1/swagger.json - null null
2024-08-12 10:03:40.620 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:03:40.669 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.5862ms
2024-08-12 10:04:51.981 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products - null null
2024-08-12 10:04:51.985 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:04:51.987 -03:00 [WRN] Failed to determine the https port for redirect.
2024-08-12 10:04:51.989 -03:00 [INF] Handling request: OPTIONS /api/Products
2024-08-12 10:04:51.990 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:04:51.991 -03:00 [INF] Finished handling request.
2024-08-12 10:04:51.992 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products - 204 null null 10.6842ms
2024-08-12 10:04:51.993 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products - null null
2024-08-12 10:04:52.000 -03:00 [INF] Handling request: GET /api/Products
2024-08-12 10:04:52.000 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:04:52.003 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:04:52.013 -03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:04:52.041 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Product, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:04:52.052 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Get (ProductAPI) in 36.1419ms
2024-08-12 10:04:52.053 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:04:52.054 -03:00 [INF] Finished handling request.
2024-08-12 10:04:52.055 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products - 200 null application/json; charset=utf-8 61.1847ms
2024-08-12 10:05:05.609 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Department - null null
2024-08-12 10:05:05.611 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:05:05.611 -03:00 [INF] Handling request: OPTIONS /api/Department
2024-08-12 10:05:05.612 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:05:05.613 -03:00 [INF] Finished handling request.
2024-08-12 10:05:05.614 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Department - 204 null null 4.8819ms
2024-08-12 10:05:05.615 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Department - null null
2024-08-12 10:05:05.618 -03:00 [INF] Handling request: GET /api/Department
2024-08-12 10:05:05.618 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:05:05.619 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:05:05.621 -03:00 [INF] Route matched with {action = "Get", controller = "Department"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller ProductAPI.Controllers.DepartmentController (ProductAPI).
2024-08-12 10:05:05.626 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Department, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:05:05.628 -03:00 [INF] Executed action ProductAPI.Controllers.DepartmentController.Get (ProductAPI) in 5.8376ms
2024-08-12 10:05:05.628 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:05:05.629 -03:00 [INF] Finished handling request.
2024-08-12 10:05:05.630 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Department - 200 null application/json; charset=utf-8 14.2455ms
2024-08-12 10:06:05.401 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products - null null
2024-08-12 10:06:05.403 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:05.403 -03:00 [INF] Handling request: OPTIONS /api/Products
2024-08-12 10:06:05.404 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:05.405 -03:00 [INF] Finished handling request.
2024-08-12 10:06:05.405 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products - 204 null null 4.6566ms
2024-08-12 10:06:05.407 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products - null null
2024-08-12 10:06:05.410 -03:00 [INF] Handling request: GET /api/Products
2024-08-12 10:06:05.411 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:05.411 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:05.412 -03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:05.416 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Product, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:06:05.417 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Get (ProductAPI) in 4.3971ms
2024-08-12 10:06:05.418 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:05.419 -03:00 [INF] Finished handling request.
2024-08-12 10:06:05.419 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products - 200 null application/json; charset=utf-8 12.2575ms
2024-08-12 10:06:08.680 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Department - null null
2024-08-12 10:06:08.680 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products/4 - null null
2024-08-12 10:06:08.682 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:08.683 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:08.683 -03:00 [INF] Handling request: OPTIONS /api/Department
2024-08-12 10:06:08.684 -03:00 [INF] Handling request: OPTIONS /api/Products/4
2024-08-12 10:06:08.684 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:08.685 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:08.686 -03:00 [INF] Finished handling request.
2024-08-12 10:06:08.686 -03:00 [INF] Finished handling request.
2024-08-12 10:06:08.687 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Department - 204 null null 6.6037ms
2024-08-12 10:06:08.687 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products/4 - 204 null null 6.7483ms
2024-08-12 10:06:08.689 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Department - null null
2024-08-12 10:06:08.691 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products/4 - null null
2024-08-12 10:06:08.692 -03:00 [INF] Handling request: GET /api/Department
2024-08-12 10:06:08.693 -03:00 [INF] Handling request: GET /api/Products/4
2024-08-12 10:06:08.694 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:08.694 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:08.695 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:06:08.695 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.GetById (ProductAPI)'
2024-08-12 10:06:08.696 -03:00 [INF] Route matched with {action = "Get", controller = "Department"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller ProductAPI.Controllers.DepartmentController (ProductAPI).
2024-08-12 10:06:08.700 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Department, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:06:08.700 -03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetById(Int32) on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:08.701 -03:00 [INF] Executed action ProductAPI.Controllers.DepartmentController.Get (ProductAPI) in 3.6527ms
2024-08-12 10:06:08.703 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:06:08.703 -03:00 [INF] Finished handling request.
2024-08-12 10:06:08.704 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Department - 200 null application/json; charset=utf-8 14.8058ms
2024-08-12 10:06:08.713 -03:00 [INF] Executing OkObjectResult, writing value of type 'ProductAPI.Models.Product'.
2024-08-12 10:06:08.714 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.GetById (ProductAPI) in 11.4666ms
2024-08-12 10:06:08.714 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.GetById (ProductAPI)'
2024-08-12 10:06:08.715 -03:00 [INF] Finished handling request.
2024-08-12 10:06:08.716 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products/4 - 200 null application/json; charset=utf-8 25.1371ms
2024-08-12 10:06:13.326 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products/4 - null null
2024-08-12 10:06:13.328 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:13.329 -03:00 [INF] Handling request: OPTIONS /api/Products/4
2024-08-12 10:06:13.329 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:13.329 -03:00 [INF] Finished handling request.
2024-08-12 10:06:13.330 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products/4 - 204 null null 3.9887ms
2024-08-12 10:06:13.332 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5167/api/Products/4 - application/json 85
2024-08-12 10:06:13.334 -03:00 [INF] Handling request: PUT /api/Products/4
2024-08-12 10:06:13.334 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:13.335 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Update (ProductAPI)'
2024-08-12 10:06:13.336 -03:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, ProductAPI.Models.DTOs.ProductUpdateDTO) on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:13.363 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-08-12 10:06:13.364 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Update (ProductAPI) in 26.2867ms
2024-08-12 10:06:13.364 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Update (ProductAPI)'
2024-08-12 10:06:13.365 -03:00 [INF] Finished handling request.
2024-08-12 10:06:13.366 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5167/api/Products/4 - 204 null null 33.7454ms
2024-08-12 10:06:13.372 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products - null null
2024-08-12 10:06:13.374 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:13.374 -03:00 [INF] Handling request: OPTIONS /api/Products
2024-08-12 10:06:13.375 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:13.376 -03:00 [INF] Finished handling request.
2024-08-12 10:06:13.376 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products - 204 null null 4.0973ms
2024-08-12 10:06:13.378 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products - null null
2024-08-12 10:06:13.380 -03:00 [INF] Handling request: GET /api/Products
2024-08-12 10:06:13.380 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:13.381 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:13.381 -03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:13.385 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Product, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:06:13.386 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Get (ProductAPI) in 3.5561ms
2024-08-12 10:06:13.387 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:13.387 -03:00 [INF] Finished handling request.
2024-08-12 10:06:13.388 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products - 200 null application/json; charset=utf-8 9.8632ms
2024-08-12 10:06:15.395 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Department - null null
2024-08-12 10:06:15.395 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products/4 - null null
2024-08-12 10:06:15.397 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:15.398 -03:00 [INF] Handling request: GET /api/Products/4
2024-08-12 10:06:15.399 -03:00 [INF] Handling request: OPTIONS /api/Department
2024-08-12 10:06:15.399 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:15.400 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:15.400 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.GetById (ProductAPI)'
2024-08-12 10:06:15.401 -03:00 [INF] Finished handling request.
2024-08-12 10:06:15.401 -03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetById(Int32) on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:15.402 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Department - 204 null null 6.5518ms
2024-08-12 10:06:15.405 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Department - null null
2024-08-12 10:06:15.406 -03:00 [INF] Executing OkObjectResult, writing value of type 'ProductAPI.Models.Product'.
2024-08-12 10:06:15.407 -03:00 [INF] Handling request: GET /api/Department
2024-08-12 10:06:15.407 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.GetById (ProductAPI) in 4.0872ms
2024-08-12 10:06:15.408 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:15.408 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.GetById (ProductAPI)'
2024-08-12 10:06:15.409 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:06:15.410 -03:00 [INF] Finished handling request.
2024-08-12 10:06:15.410 -03:00 [INF] Route matched with {action = "Get", controller = "Department"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller ProductAPI.Controllers.DepartmentController (ProductAPI).
2024-08-12 10:06:15.411 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products/4 - 200 null application/json; charset=utf-8 15.4223ms
2024-08-12 10:06:15.415 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Department, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:06:15.416 -03:00 [INF] Executed action ProductAPI.Controllers.DepartmentController.Get (ProductAPI) in 3.6432ms
2024-08-12 10:06:15.416 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:06:15.417 -03:00 [INF] Finished handling request.
2024-08-12 10:06:15.418 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Department - 200 null application/json; charset=utf-8 12.7723ms
2024-08-12 10:06:17.752 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products - null null
2024-08-12 10:06:17.754 -03:00 [INF] Handling request: GET /api/Products
2024-08-12 10:06:17.754 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:17.755 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:17.756 -03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:17.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Product, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:06:17.760 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Get (ProductAPI) in 3.6437ms
2024-08-12 10:06:17.761 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:17.762 -03:00 [INF] Finished handling request.
2024-08-12 10:06:17.763 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products - 200 null application/json; charset=utf-8 10.3649ms
2024-08-12 10:06:19.970 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Department - null null
2024-08-12 10:06:19.972 -03:00 [INF] Handling request: GET /api/Department
2024-08-12 10:06:19.972 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:19.973 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:06:19.973 -03:00 [INF] Route matched with {action = "Get", controller = "Department"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult Get() on controller ProductAPI.Controllers.DepartmentController (ProductAPI).
2024-08-12 10:06:19.977 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Department, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:06:19.977 -03:00 [INF] Executed action ProductAPI.Controllers.DepartmentController.Get (ProductAPI) in 3.0562ms
2024-08-12 10:06:19.978 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.DepartmentController.Get (ProductAPI)'
2024-08-12 10:06:19.979 -03:00 [INF] Finished handling request.
2024-08-12 10:06:19.980 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Department - 200 null application/json; charset=utf-8 10.0976ms
2024-08-12 10:06:43.349 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products - null null
2024-08-12 10:06:43.351 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:43.352 -03:00 [INF] Handling request: OPTIONS /api/Products
2024-08-12 10:06:43.352 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:43.353 -03:00 [INF] Finished handling request.
2024-08-12 10:06:43.353 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products - 204 null null 3.7883ms
2024-08-12 10:06:43.355 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5167/api/Products - application/json 86
2024-08-12 10:06:43.357 -03:00 [INF] Handling request: POST /api/Products
2024-08-12 10:06:43.357 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:43.358 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Post (ProductAPI)'
2024-08-12 10:06:43.359 -03:00 [INF] Route matched with {action = "Post", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(ProductAPI.Models.DTOs.ProductDTO) on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:43.377 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Post (ProductAPI) in 15.9346ms
2024-08-12 10:06:43.378 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Post (ProductAPI)'
2024-08-12 10:06:43.380 -03:00 [ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`ProductDB`.`Product`, CONSTRAINT `Product_ibfk_1` FOREIGN KEY (`DepartmentId`) REFERENCES `Department` (`Id`) ON DELETE CASCADE)
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQueryAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
   at ProductAPI.Repositories.ProductRepository.Add(Product product) in C:\Users\User\OneDrive\Desktop\CRUD Produtos\API\ProductAPI\Repositories\ProductRepository.cs:line 127
   at ProductAPI.Services.ProductService.Add(Product product) in C:\Users\User\OneDrive\Desktop\CRUD Produtos\API\ProductAPI\Services\ProductService.cs:line 18
   at ProductAPI.Controllers.ProductsController.Post(ProductDTO productDTO) in C:\Users\User\OneDrive\Desktop\CRUD Produtos\API\ProductAPI\Controllers\ProductsController.cs:line 57
   at lambda_method11(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ProductAPI.Program.<>c.<<Main>b__0_8>d.MoveNext() in C:\Users\User\OneDrive\Desktop\CRUD Produtos\API\ProductAPI\Program.cs:line 146
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-08-12 10:06:43.399 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5167/api/Products - 500 null text/plain; charset=utf-8 43.4581ms
2024-08-12 10:06:51.219 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products - null null
2024-08-12 10:06:51.221 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:06:51.222 -03:00 [INF] Handling request: OPTIONS /api/Products
2024-08-12 10:06:51.222 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:51.223 -03:00 [INF] Finished handling request.
2024-08-12 10:06:51.223 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products - 204 null null 3.93ms
2024-08-12 10:06:51.225 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5167/api/Products - application/json 88
2024-08-12 10:06:51.226 -03:00 [INF] Handling request: POST /api/Products
2024-08-12 10:06:51.227 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:51.227 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Post (ProductAPI)'
2024-08-12 10:06:51.228 -03:00 [INF] Route matched with {action = "Post", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Post(ProductAPI.Models.DTOs.ProductDTO) on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:51.236 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ProductAPI.Models.Product'.
2024-08-12 10:06:51.245 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Post (ProductAPI) in 15.5239ms
2024-08-12 10:06:51.246 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Post (ProductAPI)'
2024-08-12 10:06:51.246 -03:00 [INF] Finished handling request.
2024-08-12 10:06:51.247 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5167/api/Products - 201 null application/json; charset=utf-8 21.7444ms
2024-08-12 10:06:51.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products - null null
2024-08-12 10:06:51.254 -03:00 [INF] Handling request: GET /api/Products
2024-08-12 10:06:51.255 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:06:51.255 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:51.256 -03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:06:51.260 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Product, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:06:51.261 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Get (ProductAPI) in 3.2492ms
2024-08-12 10:06:51.261 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:06:51.262 -03:00 [INF] Finished handling request.
2024-08-12 10:06:51.263 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products - 200 null application/json; charset=utf-8 10.0175ms
2024-08-12 10:07:01.797 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products/7 - null null
2024-08-12 10:07:01.799 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:07:01.800 -03:00 [INF] Handling request: OPTIONS /api/Products/7
2024-08-12 10:07:01.800 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:07:01.801 -03:00 [INF] Finished handling request.
2024-08-12 10:07:01.801 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products/7 - 204 null null 4.3189ms
2024-08-12 10:07:01.803 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5167/api/Products/7 - null null
2024-08-12 10:07:01.805 -03:00 [INF] Handling request: DELETE /api/Products/7
2024-08-12 10:07:01.805 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:07:01.806 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Delete (ProductAPI)'
2024-08-12 10:07:01.807 -03:00 [INF] Route matched with {action = "Delete", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:07:01.818 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-08-12 10:07:01.818 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Delete (ProductAPI) in 10.048ms
2024-08-12 10:07:01.819 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Delete (ProductAPI)'
2024-08-12 10:07:01.820 -03:00 [INF] Finished handling request.
2024-08-12 10:07:01.820 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5167/api/Products/7 - 204 null null 17.3701ms
2024-08-12 10:07:01.822 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5167/api/Products - null null
2024-08-12 10:07:01.824 -03:00 [INF] ApiKeyScheme was not authenticated. Failure message: API key is missing
2024-08-12 10:07:01.824 -03:00 [INF] Handling request: OPTIONS /api/Products
2024-08-12 10:07:01.825 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:07:01.825 -03:00 [INF] Finished handling request.
2024-08-12 10:07:01.826 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5167/api/Products - 204 null null 3.6705ms
2024-08-12 10:07:01.828 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5167/api/Products - null null
2024-08-12 10:07:01.829 -03:00 [INF] Handling request: GET /api/Products
2024-08-12 10:07:01.829 -03:00 [INF] CORS policy execution successful.
2024-08-12 10:07:01.830 -03:00 [INF] Executing endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:07:01.831 -03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller ProductAPI.Controllers.ProductsController (ProductAPI).
2024-08-12 10:07:01.834 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductAPI.Models.Product, ProductAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-12 10:07:01.835 -03:00 [INF] Executed action ProductAPI.Controllers.ProductsController.Get (ProductAPI) in 3.4849ms
2024-08-12 10:07:01.836 -03:00 [INF] Executed endpoint 'ProductAPI.Controllers.ProductsController.Get (ProductAPI)'
2024-08-12 10:07:01.837 -03:00 [INF] Finished handling request.
2024-08-12 10:07:01.837 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5167/api/Products - 200 null application/json; charset=utf-8 9.5313ms
2024-08-12 10:20:19.833 -03:00 [INF] Application is shutting down...
